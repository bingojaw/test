<!DOCTYPE html>
<!-- saved from url=(0141)https://c14k9e02pghzv276.canvacode.com/codelet/AAEAEGMxNGs5ZTAycGdoenYyNzYAAAAAAZxBw_M00fuFq7g55t4MhEp2AtDdWzc3HdlZDZdUjXvRmYzUagQ/index.html -->
<html lang="zh-TW" class="h-full"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å®¶åº­å¥åº·ç®¡ç†æœˆæ›†</title>
  <script src="./saved_resource"></script>
  <script src="./chart.js.ä¸‹è¼‰"></script>
  <script src="./element_sdk.js.ä¸‹è¼‰"></script>
  <script src="./data_sdk.js.ä¸‹è¼‰"></script>
  <link href="./css2" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Noto Sans TC', sans-serif;
    }
    
    html, body, #app {
      height: 100%;
      width: 100%;
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background-color: #e5e7eb;
      padding: 0;
      height: auto;
    }

    .calendar-day {
      background-color: white;
      padding: 8px;
      min-height: 120px;
      display: flex;
      flex-direction: column;
      gap: 3px;
      cursor: pointer;
      transition: background-color 0.2s;
      overflow: hidden;
    }

    .calendar-day:hover {
      background-color: #f0f9ff;
    }

    .calendar-day.today {
      background-color: #ecfdf5;
      border: 2px solid #0d9488;
    }

    .day-number {
      font-size: 16px;
      font-weight: bold;
      color: #1f2937;
    }

    .day-number.sunday {
      color: #dc2626;
    }

    .day-number.saturday {
      color: #2563eb;
    }

    .lunar-text {
      font-size: 12px;
      color: #6b7280;
      font-weight: 500;
    }

    .tags-container {
      display: flex;
      flex-direction: column;
      gap: 2px;
      font-size: 11px;
    }

    .person-row {
      display: flex;
      gap: 3px;
      align-items: center;
      flex-wrap: wrap;
    }

    .person-label {
      font-weight: bold;
      min-width: 16px;
    }

    .health-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      border: 1.5px solid #000;
      display: inline-block;
    }

    .bp-normal { background-color: #059669; }
    .bp-elevated { background-color: #d97706; }
    .bp-high { background-color: #dc2626; }
    .bp-low { background-color: #2563eb; }

    .tag {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 3px;
      font-weight: 600;
      color: white;
      font-size: 10px;
    }

    .tag-holiday {
      background-color: #dc2626;
      border: 1px solid #991b1b;
    }

    .tag-solar {
      background-color: #0891b2;
      border: 1px solid #164e63;
    }

    .tag-hospital {
      background-color: #9333ea;
      border: 1px solid #6b21a8;
    }

    .modal-backdrop {
      background: rgba(0, 0, 0, 0.5);
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .animate-fade-in {
      animation: fadeIn 0.3s ease-out;
    }

    .record-item {
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 1rem;
      margin-bottom: 0.75rem;
      background-color: #f9fafb;
      cursor: pointer;
      transition: all 0.2s;
    }

    .record-item:hover {
      background-color: #f3f4f6;
      border-color: #d1d5db;
    }

    .record-summary {
      font-weight: 500;
      color: #1f2937;
      margin-bottom: 0.25rem;
    }

    .record-detail {
      font-size: 0.875rem;
      color: #6b7280;
      word-break: break-word;
    }

    .time-label {
      display: inline-block;
      background-color: #e0f2fe;
      color: #0369a1;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.75rem;
      font-weight: bold;
      margin-right: 4px;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
 <style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.inset-0{inset:0px}.z-50{z-index:50}.mx-2{margin-left:0.5rem;margin-right:0.5rem}.mx-auto{margin-left:auto;margin-right:auto}.my-8{margin-top:2rem;margin-bottom:2rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mt-1{margin-top:0.25rem}.mt-4{margin-top:1rem}.block{display:block}.flex{display:flex}.grid{display:grid}.hidden{display:none}.h-full{height:100%}.h-4{height:1rem}.h-6{height:1.5rem}.max-h-\[70vh\]{max-height:70vh}.w-4{width:1rem}.w-6{width:1.5rem}.w-full{width:100%}.max-w-2xl{max-width:42rem}.max-w-3xl{max-width:48rem}.max-w-6xl{max-width:72rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-7{grid-template-columns:repeat(7, minmax(0, 1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.rounded{border-radius:0.25rem}.rounded-2xl{border-radius:1rem}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-2{border-width:2px}.border-b-2{border-bottom-width:2px}.border-l-4{border-left-width:4px}.border-blue-500{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-emerald-500{--tw-border-opacity:1;border-color:rgb(16 185 129 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity:1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-purple-500{--tw-border-opacity:1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-emerald-50{--tw-bg-opacity:1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-teal-500{--tw-bg-opacity:1;background-color:rgb(20 184 166 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-white\/20{background-color:rgb(255 255 255 / 0.2)}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-teal-50{--tw-gradient-from:#f0fdfa var(--tw-gradient-from-position);--tw-gradient-to:rgb(240 253 250 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-500{--tw-gradient-from:#3b82f6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(59 130 246 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-emerald-500{--tw-gradient-from:#10b981 var(--tw-gradient-from-position);--tw-gradient-to:rgb(16 185 129 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-500{--tw-gradient-from:#a855f7 var(--tw-gradient-from-position);--tw-gradient-to:rgb(168 85 247 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-teal-500{--tw-gradient-from:#14b8a6 var(--tw-gradient-from-position);--tw-gradient-to:rgb(20 184 166 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-teal-600{--tw-gradient-from:#0d9488 var(--tw-gradient-from-position);--tw-gradient-to:rgb(13 148 136 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.via-emerald-50{--tw-gradient-to:rgb(236 253 245 / 0)  var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), #ecfdf5 var(--tw-gradient-via-position), var(--tw-gradient-to)}.to-cyan-50{--tw-gradient-to:#ecfeff var(--tw-gradient-to-position)}.to-cyan-500{--tw-gradient-to:#06b6d4 var(--tw-gradient-to-position)}.to-emerald-500{--tw-gradient-to:#10b981 var(--tw-gradient-to-position)}.to-emerald-600{--tw-gradient-to:#059669 var(--tw-gradient-to-position)}.to-pink-500{--tw-gradient-to:#ec4899 var(--tw-gradient-to-position)}.to-teal-500{--tw-gradient-to:#14b8a6 var(--tw-gradient-to-position)}.p-1{padding:0.25rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.text-center{text-align:center}.text-2xl{font-size:1.5rem;line-height:2rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity:1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-emerald-800{--tw-text-opacity:1;color:rgb(6 95 70 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity:1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-purple-800{--tw-text-opacity:1;color:rgb(107 33 168 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-white\/90{color:rgb(255 255 255 / 0.9)}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.opacity-90{opacity:0.9}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.transition{transition-property:color, background-color, border-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-text-decoration-color, -webkit-backdrop-filter;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.hover\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\:bg-gray-500:hover{--tw-bg-opacity:1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.hover\:bg-red-600:hover{--tw-bg-opacity:1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.hover\:bg-red-700:hover{--tw-bg-opacity:1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/20:hover{background-color:rgb(255 255 255 / 0.2)}.hover\:bg-white\/30:hover{background-color:rgb(255 255 255 / 0.3)}.hover\:from-blue-600:hover{--tw-gradient-from:#2563eb var(--tw-gradient-from-position);--tw-gradient-to:rgb(37 99 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:from-emerald-600:hover{--tw-gradient-from:#059669 var(--tw-gradient-from-position);--tw-gradient-to:rgb(5 150 105 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:from-purple-600:hover{--tw-gradient-from:#9333ea var(--tw-gradient-from-position);--tw-gradient-to:rgb(147 51 234 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:from-teal-600:hover{--tw-gradient-from:#0d9488 var(--tw-gradient-from-position);--tw-gradient-to:rgb(13 148 136 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.hover\:to-cyan-600:hover{--tw-gradient-to:#0891b2 var(--tw-gradient-to-position)}.hover\:to-emerald-600:hover{--tw-gradient-to:#059669 var(--tw-gradient-to-position)}.hover\:to-pink-600:hover{--tw-gradient-to:#db2777 var(--tw-gradient-to-position)}.hover\:to-teal-600:hover{--tw-gradient-to:#0d9488 var(--tw-gradient-to-position)}@media (min-width: 768px){.md\:grid-cols-5{grid-template-columns:repeat(5, minmax(0, 1fr))}}</style></head>
 <body class="h-full bg-gradient-to-br from-teal-50 via-emerald-50 to-cyan-50">
  <div id="app" class="h-full w-full overflow-auto flex flex-col">
   <header class="bg-gradient-to-r from-teal-600 to-emerald-600 text-white p-4 shadow-lg flex-shrink-0">
    <div class="max-w-6xl mx-auto flex justify-between items-center">
     <h1 id="app-title" class="text-2xl font-bold">ğŸ‘¨â€ğŸ‘©ğŸ‘§ å®¶åº­å¥åº·ç®¡ç†æœˆæ›†</h1><button id="chart-btn" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg transition"> ğŸ“Š è¡€å£“çµ±è¨ˆ </button>
    </div>
   </header>
   <div class="flex-1 overflow-auto">
    <div class="max-w-6xl mx-auto p-4">
     <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
      <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-4 flex justify-between items-center"><button id="prev-month" class="text-white hover:bg-white/20 p-2 rounded-lg transition">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg></button>
       <div class="text-center text-white flex-1">
        <h2 id="current-month" class="text-2xl font-bold">2026å¹´2æœˆ</h2>
        <p id="lunar-month" class="text-sm opacity-90">æ­£æœˆ</p>
       </div><button id="today-btn" class="text-white hover:bg-white/20 px-3 py-2 rounded-lg transition text-sm font-medium mx-2"> ä»Šæœˆ </button> <button id="next-month" class="text-white hover:bg-white/20 p-2 rounded-lg transition">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg></button>
      </div>
      <div class="grid grid-cols-7 bg-gray-100 border-b-2 border-gray-200">
       <div class="p-3 text-center font-bold text-red-500">
        æ—¥
       </div>
       <div class="p-3 text-center font-bold text-gray-600">
        ä¸€
       </div>
       <div class="p-3 text-center font-bold text-gray-600">
        äºŒ
       </div>
       <div class="p-3 text-center font-bold text-gray-600">
        ä¸‰
       </div>
       <div class="p-3 text-center font-bold text-gray-600">
        å››
       </div>
       <div class="p-3 text-center font-bold text-gray-600">
        äº”
       </div>
       <div class="p-3 text-center font-bold text-blue-500">
        å…­
       </div>
      </div>
      <div id="calendar-grid" class="calendar-grid"><div class="calendar-day "><div class="day-number sunday">1</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">2</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">3</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">4</div><div class="lunar-text">åˆä¸€</div><span class="tag tag-solar">ç«‹æ˜¥</span></div><div class="calendar-day "><div class="day-number">5</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">6</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number saturday">7</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day today"><div class="day-number sunday">8</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">9</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">10</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">11</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">12</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">13</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number saturday">14</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number sunday">15</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">16</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">17</div><div class="lunar-text">åˆä¸€</div><span class="tag tag-holiday">æ˜¥ç¯€</span></div><div class="calendar-day "><div class="day-number">18</div><div class="lunar-text">åˆä¸€</div><span class="tag tag-holiday">æ˜¥ç¯€</span></div><div class="calendar-day "><div class="day-number">19</div><div class="lunar-text">åˆä¸€</div><span class="tag tag-holiday">æ˜¥ç¯€</span><span class="tag tag-solar">é›¨æ°´</span></div><div class="calendar-day "><div class="day-number">20</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number saturday">21</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number sunday">22</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">23</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">24</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">25</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">26</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number">27</div><div class="lunar-text">åˆä¸€</div></div><div class="calendar-day "><div class="day-number saturday">28</div><div class="lunar-text">åˆä¸€</div><span class="tag tag-holiday">å’Œå¹³ç´€å¿µæ—¥</span></div></div>
     </div>
     <div class="mt-4 bg-white rounded-xl p-4 shadow-lg">
      <h3 class="font-bold text-gray-700 mb-3">åœ–ä¾‹èªªæ˜</h3>
      <div class="grid grid-cols-2 md:grid-cols-5 gap-3 text-sm">
       <div class="flex items-center gap-2"><span class="health-dot bp-normal"></span> <span>è¡€å£“æ­£å¸¸</span>
       </div>
       <div class="flex items-center gap-2"><span class="health-dot bp-elevated"></span> <span>è¡€å£“åé«˜</span>
       </div>
       <div class="flex items-center gap-2"><span class="health-dot bp-high"></span> <span>è¡€å£“éé«˜</span>
       </div>
       <div class="flex items-center gap-2"><span class="health-dot bp-low"></span> <span>è¡€å£“åä½</span>
       </div>
       <div class="flex items-center gap-2"><span>ğŸ’Š</span> <span>å·²æœè—¥</span>
       </div>
       <div class="flex items-center gap-2"><span class="tag tag-hospital">æ›è™Ÿ</span>
       </div>
       <div class="flex items-center gap-2"><span class="tag tag-holiday">å‡æ—¥</span>
       </div>
       <div class="flex items-center gap-2"><span class="tag tag-solar">ç¯€æ°£</span>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div id="day-modal" class="fixed inset-0 modal-backdrop items-center justify-center z-50 p-4 overflow-auto flex hidden">
   <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl my-8 animate-fade-in">
    <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-4 rounded-t-2xl flex justify-between items-center">
     <div>
      <h3 id="day-modal-title" class="text-xl font-bold text-white">2æœˆ12æ—¥</h3>
      <p id="day-modal-lunar" class="text-white/90 text-sm mt-1">è¾²æ›† æ­£æœˆåˆä¸€</p>
     </div><button id="close-day-modal" class="text-white hover:bg-white/20 p-1 rounded-lg transition">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-6 space-y-4 max-h-[70vh] overflow-y-auto">
     <div id="day-records-list" class="space-y-3"><p class="text-gray-500 text-center py-4">æ­¤æ—¥æœŸå°šç„¡è¨˜éŒ„</p></div><button id="add-new-record-btn" class="w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-lg hover:from-teal-600 hover:to-emerald-600 transition"> â• æ–°å¢è¨˜éŒ„ </button>
    </div>
   </div>
  </div>
  <div id="record-modal" class="fixed inset-0 modal-backdrop items-center justify-center z-50 p-4 overflow-auto flex hidden">
   <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl my-8 animate-fade-in">
    <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-4 rounded-t-2xl flex justify-between items-center">
     <div>
      <h3 id="modal-title" class="text-xl font-bold text-white">2æœˆ12æ—¥</h3>
      <p id="modal-lunar" class="text-white/90 text-sm mt-1">è¾²æ›† æ­£æœˆåˆä¸€</p>
     </div><button id="close-modal" class="text-white hover:bg-white/20 p-1 rounded-lg transition">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-6 space-y-4 max-h-[70vh] overflow-y-auto">
     <div id="step-select-type" class="space-y-4">
      <h3 class="text-lg font-bold text-gray-800 mb-4">é¸æ“‡è¦æ–°å¢çš„è¨˜éŒ„é¡å‹</h3><button id="btn-add-health" class="w-full py-4 px-4 bg-gradient-to-br from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white font-bold rounded-lg transition transform hover:scale-105"> ğŸ’“ è¡€å£“æ¸¬é‡è¨˜éŒ„ </button> <button id="btn-add-medication" class="w-full py-4 px-4 bg-gradient-to-br from-emerald-500 to-teal-500 hover:from-emerald-600 hover:to-teal-600 text-white font-bold rounded-lg transition transform hover:scale-105"> ğŸ’Š æœè—¥ç´€éŒ„ </button> <button id="btn-add-hospital" class="w-full py-4 px-4 bg-gradient-to-br from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold rounded-lg transition transform hover:scale-105"> ğŸ¥ æ›è™Ÿç´€éŒ„ </button>
     </div>
     <div id="record-form-container" class="hidden space-y-4"><button id="back-to-type-select" class="w-full py-2 px-4 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> â† è¿”å›é¸æ“‡ </button>
      <div id="person-selection"><label class="block text-gray-800 font-bold text-lg mb-2">ğŸ‘¥ é¸æ“‡å®¶äºº</label>
       <div class="flex gap-2"><button id="select-dad" class="flex-1 py-3 px-4 rounded-lg border-2 bg-blue-600 text-white font-bold transition hover:bg-blue-700"> ğŸ‘¨ çˆ¸çˆ¸ </button> <button id="select-mom" class="flex-1 py-3 px-4 rounded-lg border-2 border-gray-400 bg-gray-100 text-gray-700 font-bold transition hover:bg-gray-200"> ğŸ‘© åª½åª½ </button>
       </div>
      </div>
      <div id="health-content" class="hidden space-y-4">
       <div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded">
        <p class="text-blue-800 font-bold">ğŸ’“ è¡€å£“é‡æ¸¬è¨˜éŒ„</p>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">â° é‡æ¸¬æ™‚é–“</label> <select id="measurement-time" class="w-full p-2 border rounded-lg font-medium"> <option value="">-- è«‹é¸æ“‡æ¸¬é‡æ™‚é–“ --</option> <option value="morning">ğŸŒ… æ—©ä¸Š (6:00-9:00)</option> <option value="midday">â˜€ï¸ ä¸­åˆ (11:00-13:00)</option> <option value="afternoon">ğŸŒ¤ï¸ ä¸‹åˆ (14:00-17:00)</option> <option value="evening">ğŸŒ† æ™šä¸Š (18:00-21:00)</option> <option value="night">ğŸŒ™ å¤œæ™š (21:00-23:59)</option> </select>
       </div>
       <div class="grid grid-cols-2 gap-4">
        <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ’“ æ”¶ç¸®å£“ (mmHg)</label> <input type="number" id="systolic" placeholder="120" class="w-full p-2 border rounded-lg text-center font-bold">
        </div>
        <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ«€ èˆ’å¼µå£“ (mmHg)</label> <input type="number" id="diastolic" placeholder="80" class="w-full p-2 border rounded-lg text-center font-bold">
        </div>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ«€ è„ˆæ (æ¬¡/åˆ†)</label> <input type="number" id="pulse" placeholder="72" class="w-full p-2 border rounded-lg text-center font-bold">
       </div>
       <div id="bp-feedback" class="hidden p-4 rounded-lg">
        <p id="bp-status" class="font-bold"></p>
        <p id="bp-advice" class="text-sm mt-1"></p>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ“ å‚™è¨»</label> <textarea id="notes" rows="3" placeholder="ä¾‹å¦‚ï¼šä»Šå¤©æœ‰é»é ­æšˆ..." class="w-full p-2 border rounded-lg text-sm"></textarea>
       </div>
       <div class="space-y-2"><button id="save-health-record" class="w-full py-3 bg-gradient-to-r from-teal-500 to-emerald-500 text-white font-bold rounded-lg hover:from-teal-600 hover:to-emerald-600 transition"> å„²å­˜å¥åº·è¨˜éŒ„ </button>
        <div id="health-actions" class="hidden flex gap-2"><button id="delete-health-record" class="flex-1 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition"> åˆªé™¤è¨˜éŒ„ </button> <button id="cancel-edit-health" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
        <div id="health-confirm-delete" class="hidden flex gap-2"><span class="flex-1 py-2 text-center text-red-600 font-bold">ç¢ºå®šè¦åˆªé™¤ï¼Ÿ</span> <button id="confirm-delete-health" class="flex-1 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition"> ç¢ºå®šåˆªé™¤ </button> <button id="cancel-delete-health" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
       </div>
      </div>
      <div id="medication-content" class="hidden space-y-4">
       <div class="bg-emerald-50 border-l-4 border-emerald-500 p-4 rounded">
        <p class="text-emerald-800 font-bold">ğŸ’Š æœè—¥ç´€éŒ„</p>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ’Š æœè—¥æ™‚æ®µ</label>
        <div class="space-y-2"><label class="flex items-center gap-2"> <input type="checkbox" id="med-time-breakfast" class="w-4 h-4"> <span>æ—©é¤</span> </label> <label class="flex items-center gap-2"> <input type="checkbox" id="med-time-lunch" class="w-4 h-4"> <span>åˆé¤</span> </label> <label class="flex items-center gap-2"> <input type="checkbox" id="med-time-dinner" class="w-4 h-4"> <span>æ™šé¤</span> </label> <label class="flex items-center gap-2"> <input type="checkbox" id="med-time-bedtime" class="w-4 h-4"> <span>ç¡å‰</span> </label>
        </div>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ“ å‚™è¨»</label> <textarea id="medication-notes" rows="3" placeholder="ä¾‹å¦‚ï¼šæœç”¨è—¥ç‰©åç¨±ã€ç”¨é‡..." class="w-full p-2 border rounded-lg text-sm"></textarea>
       </div>
       <div class="space-y-2"><button id="save-medication-record" class="w-full py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white font-bold rounded-lg hover:from-emerald-600 hover:to-teal-600 transition"> å„²å­˜æœè—¥è¨˜éŒ„ </button>
        <div id="medication-actions" class="hidden flex gap-2"><button id="delete-medication-record" class="flex-1 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition"> åˆªé™¤è¨˜éŒ„ </button> <button id="cancel-edit-medication" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
        <div id="medication-confirm-delete" class="hidden flex gap-2"><span class="flex-1 py-2 text-center text-red-600 font-bold">ç¢ºå®šè¦åˆªé™¤ï¼Ÿ</span> <button id="confirm-delete-medication" class="flex-1 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition"> ç¢ºå®šåˆªé™¤ </button> <button id="cancel-delete-medication" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
       </div>
      </div>
      <div id="hospital-content" class="hidden space-y-4">
       <div class="bg-purple-50 border-l-4 border-purple-500 p-4 rounded">
        <p class="text-purple-800 font-bold">ğŸ¥ æ›è™Ÿç´€éŒ„</p>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ¥ é†«é™¢åç¨±</label> <select id="hospital-name" class="w-full p-2 border rounded-lg"> <option value="ç©ºè»é†«é™¢">ç©ºè»é†«é™¢</option> <option value="å‰µç¾ç‰™é†«è¨ºæ‰€">å‰µç¾ç‰™é†«è¨ºæ‰€</option> <option value="å°å¤§æ–°ç«¹åˆ†é™¢">å°å¤§æ–°ç«¹åˆ†é™¢</option> </select>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ”¢ æ›è™Ÿè™Ÿç¢¼</label> <input type="text" id="registration-number" placeholder="ä¾‹å¦‚ï¼šA001" class="w-full p-2 border rounded-lg">
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">â° é ç´„æˆ–å°±è¨ºæ™‚é–“</label> <input type="time" id="appointment-time" class="w-full p-2 border rounded-lg">
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ‘¨â€âš•ï¸ é†«ç”Ÿ &amp; ç§‘åˆ¥</label> <select id="doctor-info" class="w-full p-2 border rounded-lg"> <option value="">-- è«‹é¸æ“‡é†«ç”Ÿ --</option> <option value="é»ƒå´‡å ¤|å¿ƒè‡Ÿå…§ç§‘">é»ƒå´‡å ¤ (å¿ƒè‡Ÿå…§ç§‘)</option> <option value="ç¨‹å…ƒæ¢|ç¥ç¶“å…§ç§‘">ç¨‹å…ƒæ¢ (ç¥ç¶“å…§ç§‘)</option> <option value="é»ƒå¥•çƒ|æ³Œå°¿å¤–ç§‘">é»ƒå¥•çƒ (æ³Œå°¿å¤–ç§‘)</option> <option value="ç‰™ç§‘|å‰µç¾ç‰™é†«è¨ºæ‰€">ç‰™ç§‘ (å‰µç¾ç‰™é†«è¨ºæ‰€)</option> <option value="å…¶ä»–|å…¶ä»–">å…¶ä»–</option> </select>
       </div>
       <div class="bg-gray-50 rounded-xl p-4"><label class="block text-gray-700 font-medium mb-2">ğŸ“ å‚™è¨»</label> <textarea id="hospital-notes" rows="2" placeholder="ä¾‹å¦‚ï¼šå¸¶å¥ä¿å¡ã€å¸¶å ±å‘Š..." class="w-full p-2 border rounded-lg text-sm"></textarea>
       </div>
       <div class="space-y-2"><button id="save-hospital-record" class="w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold rounded-lg hover:from-purple-600 hover:to-pink-600 transition"> å„²å­˜æ›è™Ÿè¨˜éŒ„ </button>
        <div id="hospital-actions" class="hidden flex gap-2"><button id="delete-hospital-record" class="flex-1 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition"> åˆªé™¤è¨˜éŒ„ </button> <button id="cancel-edit-hospital" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
        <div id="hospital-confirm-delete" class="hidden flex gap-2"><span class="flex-1 py-2 text-center text-red-600 font-bold">ç¢ºå®šè¦åˆªé™¤ï¼Ÿ</span> <button id="confirm-delete-hospital" class="flex-1 py-2 bg-red-600 hover:bg-red-700 text-white font-bold rounded-lg transition"> ç¢ºå®šåˆªé™¤ </button> <button id="cancel-delete-hospital" class="flex-1 py-2 bg-gray-400 hover:bg-gray-500 text-white font-bold rounded-lg transition"> å–æ¶ˆ </button>
        </div>
       </div>
      </div>
     </div>
    </div>
   </div>
  </div>
  <div id="chart-modal" class="fixed inset-0 modal-backdrop hidden items-center justify-center z-50 p-4">
   <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl animate-fade-in">
    <div class="bg-gradient-to-r from-teal-500 to-emerald-500 p-4 flex justify-between items-center">
     <h3 class="text-xl font-bold text-white">ğŸ“Š è¿‘æœŸè¡€å£“çµ±è¨ˆ</h3><button id="close-chart" class="text-white hover:bg-white/20 p-1 rounded-lg transition">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
      </svg></button>
    </div>
    <div class="p-6 space-y-4">
     <div class="flex gap-2"><button id="chart-dad" class="flex-1 py-2 px-4 rounded-lg bg-teal-500 text-white font-medium">ğŸ‘¨ çˆ¸çˆ¸</button> <button id="chart-mom" class="flex-1 py-2 px-4 rounded-lg bg-gray-200 text-gray-600 font-medium">ğŸ‘© åª½åª½</button>
     </div>
     <canvas id="bp-chart"></canvas>
     <div id="chart-stats" class="grid grid-cols-2 gap-4"></div>
    </div>
   </div>
  </div>
  <script>
    const lunarMonths = ['æ­£', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­', 'ä¸ƒ', 'å…«', 'ä¹', 'å', 'å†¬', 'è‡˜'];
    const lunarDays = ['åˆä¸€', 'åˆäºŒ', 'åˆä¸‰', 'åˆå››', 'åˆäº”', 'åˆå…­', 'åˆä¸ƒ', 'åˆå…«', 'åˆä¹', 'åˆå', 'åä¸€', 'åäºŒ', 'åä¸‰', 'åå››', 'åäº”', 'åå…­', 'åä¸ƒ', 'åå…«', 'åä¹', 'äºŒå', 'å»¿ä¸€', 'å»¿äºŒ', 'å»¿ä¸‰', 'å»¿å››', 'å»¿äº”', 'å»¿å…­', 'å»¿ä¸ƒ', 'å»¿å…«', 'å»¿ä¹', 'ä¸‰å'];
    
    // è¾²æ›†æ•¸æ“šè¡¨
    const lunarData = [
      0x04bd8, 0x04ae0, 0x0a570, 0x054d5, 0x0d260, 0x0d950, 0x16554, 0x056a0, 0x09ad0, 0x055d2,
      0x04ae0, 0x0a5b6, 0x0a4d0, 0x0d250, 0x1d255, 0x0b540, 0x0d6a0, 0x0ada2, 0x095b0, 0x14977,
      0x04970, 0x0a4b0, 0x0b4b5, 0x06a50, 0x06d40, 0x1ab54, 0x02b60, 0x09570, 0x052f2, 0x04970,
      0x06566, 0x0d4a0, 0x0ea50, 0x06a95, 0x05adf, 0x02b6f, 0x09ad0, 0x055b2, 0x04370, 0x0a4b8,
      0x0d4b0, 0x08949, 0x149a6, 0x04bd6, 0x0a570, 0x0a4d0, 0x0d260, 0x0d950, 0x16554, 0x056a0,
      0x09ad0, 0x04ae0, 0x0a4d0, 0x0d0d5, 0x0d250, 0x0d520, 0x0dda0, 0x0b5a0, 0x05b60, 0x056d0,
      0x04ae0, 0x0a5b0, 0x052d0, 0x0a9d8, 0x0e950, 0x06aa0, 0x0aea6, 0x0ab50, 0x04b60, 0x0aae4,
      0x0a4d0, 0x08d55, 0x0d5ab, 0x02b6f, 0x09370, 0x054d5, 0x0d160, 0x0d968, 0x1d96a, 0x0d45a,
      0x056a0, 0x0a6d0, 0x055d4, 0x0d260, 0x0d520, 0x0dd45, 0x0b5a0, 0x056d0, 0x055b2, 0x049b0,
      0x0a577, 0x0a4d0, 0x0aa50, 0x1b255, 0x06d2f, 0x0adab, 0x09370, 0x092e0, 0x0c96d, 0x0c59d
    ];

    const solarTerms = {
      '2024-01-20': 'å¤§å¯’', '2024-02-04': 'ç«‹æ˜¥', '2024-02-19': 'é›¨æ°´', '2024-03-05': 'é©šèŸ„',
      '2024-03-20': 'æ˜¥åˆ†', '2024-04-04': 'æ¸…æ˜', '2024-04-20': 'ç©€é›¨', '2024-05-05': 'ç«‹å¤',
      '2024-05-21': 'å°æ»¿', '2024-06-05': 'èŠ’ç¨®', '2024-06-21': 'å¤è‡³', '2024-07-06': 'å°æš‘',
      '2024-07-23': 'å¤§æš‘', '2024-08-07': 'ç«‹ç§‹', '2024-08-23': 'è™•æš‘', '2024-09-08': 'ç™½éœ²',
      '2024-09-23': 'ç§‹åˆ†', '2024-10-08': 'å¯’éœ²', '2024-10-23': 'éœœé™', '2024-11-07': 'ç«‹å†¬',
      '2024-11-22': 'å°é›ª', '2024-12-07': 'å¤§é›ª', '2024-12-21': 'å†¬è‡³',
      '2025-01-05': 'å°å¯’', '2025-01-20': 'å¤§å¯’', '2025-02-04': 'ç«‹æ˜¥', '2025-02-19': 'é›¨æ°´',
      '2025-03-05': 'é©šèŸ„', '2025-03-21': 'æ˜¥åˆ†', '2025-04-05': 'æ¸…æ˜', '2025-04-20': 'ç©€é›¨',
      '2025-05-06': 'ç«‹å¤', '2025-05-21': 'å°æ»¿', '2025-06-06': 'èŠ’ç¨®', '2025-06-21': 'å¤è‡³',
      '2025-07-07': 'å°æš‘', '2025-07-23': 'å¤§æš‘', '2025-08-08': 'ç«‹ç§‹', '2025-08-23': 'è™•æš‘',
      '2025-09-08': 'ç™½éœ²', '2025-09-23': 'ç§‹åˆ†', '2025-10-09': 'å¯’éœ²', '2025-10-23': 'éœœé™',
      '2025-11-08': 'ç«‹å†¬', '2025-11-22': 'å°é›ª', '2025-12-07': 'å¤§é›ª', '2025-12-22': 'å†¬è‡³',
      '2026-01-05': 'å°å¯’', '2026-01-20': 'å¤§å¯’', '2026-02-04': 'ç«‹æ˜¥', '2026-02-19': 'é›¨æ°´',
      '2026-03-06': 'é©šèŸ„', '2026-03-21': 'æ˜¥åˆ†', '2026-04-05': 'æ¸…æ˜', '2026-04-20': 'ç©€é›¨',
      '2026-05-06': 'ç«‹å¤', '2026-05-21': 'å°æ»¿', '2026-06-06': 'èŠ’ç¨®', '2026-06-21': 'å¤è‡³',
      '2026-07-07': 'å°æš‘', '2026-07-23': 'å¤§æš‘', '2026-08-08': 'ç«‹ç§‹', '2026-08-23': 'è™•æš‘',
      '2026-09-09': 'ç™½éœ²', '2026-09-23': 'ç§‹åˆ†', '2026-10-09': 'å¯’éœ²', '2026-10-24': 'éœœé™',
      '2026-11-08': 'ç«‹å†¬', '2026-11-22': 'å°é›ª', '2026-12-07': 'å¤§é›ª', '2026-12-22': 'å†¬è‡³'
    };

    const taiwanHolidays = {
      '2024-01-01': 'å…ƒæ—¦', '2024-02-10': 'æ˜¥ç¯€', '2024-02-11': 'æ˜¥ç¯€', '2024-02-12': 'æ˜¥ç¯€',
      '2024-02-28': 'å’Œå¹³ç´€å¿µæ—¥', '2024-04-04': 'å…’ç«¥ç¯€', '2024-04-05': 'æ¸…æ˜ç¯€',
      '2024-06-10': 'ç«¯åˆç¯€', '2024-09-18': 'ä¸­ç§‹ç¯€', '2024-10-10': 'åœ‹æ…¶æ—¥',
      '2025-01-01': 'å…ƒæ—¦', '2025-01-28': 'æ˜¥ç¯€', '2025-01-29': 'æ˜¥ç¯€', '2025-01-30': 'æ˜¥ç¯€',
      '2025-02-28': 'å’Œå¹³ç´€å¿µæ—¥', '2025-04-04': 'å…’ç«¥ç¯€', '2025-04-05': 'æ¸…æ˜ç¯€',
      '2025-06-02': 'ç«¯åˆç¯€', '2025-09-17': 'ä¸­ç§‹ç¯€', '2025-10-10': 'åœ‹æ…¶æ—¥',
      '2026-01-01': 'å…ƒæ—¦', '2026-02-17': 'æ˜¥ç¯€', '2026-02-18': 'æ˜¥ç¯€', '2026-02-19': 'æ˜¥ç¯€',
      '2026-02-28': 'å’Œå¹³ç´€å¿µæ—¥', '2026-04-04': 'å…’ç«¥ç¯€', '2026-04-05': 'æ¸…æ˜ç¯€',
      '2026-06-10': 'ç«¯åˆç¯€', '2026-09-25': 'ä¸­ç§‹ç¯€', '2026-10-10': 'åœ‹æ…¶æ—¥'
    };

    const timeLabels = {
      'morning': 'ğŸŒ… æ—©ä¸Š', 'midday': 'â˜€ï¸ ä¸­åˆ', 'afternoon': 'ğŸŒ¤ï¸ ä¸‹åˆ',
      'evening': 'ğŸŒ† æ™šä¸Š', 'night': 'ğŸŒ™ å¤œæ™š'
    };

    let currentDate = new Date();
    let selectedDate = null;
    let selectedPerson = 'dad';
    let selectedRecordType = null;
    let records = [];
    let bpChart = null;
    let editingRecord = null;

    function formatDate(date) {
      const y = date.getFullYear();
      const m = String(date.getMonth() + 1).padStart(2, '0');
      const d = String(date.getDate()).padStart(2, '0');
      return `${y}-${m}-${d}`;
    }

    function solarToLunar(year, month, day) {
      if (year < 1900 || year > 2100) {
        return { month: 1, day: 1, monthStr: 'æ­£æœˆ', dayStr: 'åˆä¸€' };
      }

      const baseDate = new Date(1900, 0, 31);
      const targetDate = new Date(year, month - 1, day);
      let days = Math.floor((targetDate - baseDate) / 86400000);

      if (days < 0) {
        return { month: 1, day: 1, monthStr: 'æ­£æœˆ', dayStr: 'åˆä¸€' };
      }

      let lunarYear = 1900;
      let daysLeft = days;

      while (lunarYear <= 2100 && lunarYear - 1900 < lunarData.length) {
        const info = lunarData[lunarYear - 1900];
        let yearDays = 0;

        for (let i = 1; i <= 12; i++) {
          yearDays += ((info >> i) & 1) ? 30 : 29;
        }
        const leapMonth = info & 0x0f;
        if (leapMonth > 0) {
          yearDays += ((info >> 16) & 1) ? 30 : 29;
        }

        if (daysLeft < yearDays) break;
        daysLeft -= yearDays;
        lunarYear++;
      }

      if (lunarYear - 1900 >= lunarData.length) {
        return { month: 1, day: 1, monthStr: 'æ­£æœˆ', dayStr: 'åˆä¸€' };
      }

      const info = lunarData[lunarYear - 1900];
      const leapMonth = info & 0x0f;
      let lunarMonth = 0;
      let lunarDay = 0;

      for (let monthIdx = 1; monthIdx <= 13; monthIdx++) {
        let monthDays = 0;

        if (monthIdx <= leapMonth || leapMonth === 0) {
          monthDays = ((info >> monthIdx) & 1) ? 30 : 29;
        } else if (monthIdx === leapMonth + 1) {
          monthDays = ((info >> 16) & 1) ? 30 : 29;
        } else {
          monthDays = ((info >> (monthIdx - 1)) & 1) ? 30 : 29;
        }

        if (daysLeft < monthDays) {
          lunarMonth = monthIdx;
          lunarDay = daysLeft + 1;
          break;
        }
        daysLeft -= monthDays;
      }

      if (lunarMonth === 0) lunarMonth = 1;
      if (lunarDay === 0) lunarDay = 1;

      const monthIdx = Math.min(11, Math.max(0, lunarMonth - 1));
      const dayIdx = Math.min(29, Math.max(0, lunarDay - 1));

      return {
        month: lunarMonth,
        day: lunarDay,
        monthStr: lunarMonths[monthIdx] + 'æœˆ',
        dayStr: lunarDays[dayIdx]
      };
    }

    const dataHandler = {
      onDataChanged(data) {
        records = data;
        renderCalendar();
      }
    };

    async function initApp() {
      if (window.dataSdk) {
        await window.dataSdk.init(dataHandler);
      }
      setupEventListeners();
      renderCalendar();
    }

    function renderCalendar() {
      const grid = document.getElementById('calendar-grid');
      grid.innerHTML = '';
      
      const year = currentDate.getFullYear();
      const month = currentDate.getMonth();
      const firstDay = new Date(year, month, 1).getDay();
      const lastDay = new Date(year, month + 1, 0).getDate();
      
      const lunar = solarToLunar(year, month + 1, 1);
      document.getElementById('current-month').textContent = `${year}å¹´${month + 1}æœˆ`;
      document.getElementById('lunar-month').textContent = lunar.monthStr;
      
      for (let i = 0; i < firstDay; i++) {
        const cell = document.createElement('div');
        cell.className = 'bg-gray-50';
        grid.appendChild(cell);
      }
      
      const today = new Date();
      const todayStr = formatDate(today);
      
      for (let day = 1; day <= lastDay; day++) {
        const dateStr = formatDate(new Date(year, month, day));
        const dayOfWeek = new Date(year, month, day).getDay();
        const dayLunar = solarToLunar(year, month + 1, day);
        const isToday = dateStr === todayStr;
        
        const cell = document.createElement('div');
        cell.className = `calendar-day ${isToday ? 'today' : ''}`;
        
        let dayNumClass = 'day-number';
        if (dayOfWeek === 0) dayNumClass += ' sunday';
        if (dayOfWeek === 6) dayNumClass += ' saturday';
        
        let html = `<div class="${dayNumClass}">${day}</div>`;
        html += `<div class="lunar-text">${dayLunar.dayStr}</div>`;
        
        const healthRecords = records.filter(r => r.date === dateStr && r.type === 'health');
        const medicationRecords = records.filter(r => r.date === dateStr && r.type === 'medication');
        const hospitalRecords = records.filter(r => r.date === dateStr && r.type === 'hospital');
        
        if (healthRecords.length > 0 || medicationRecords.length > 0 || hospitalRecords.length > 0) {
          html += '<div class="tags-container">';
          
          ['dad', 'mom'].forEach(person => {
            const personLabel = person === 'dad' ? 'çˆ¸' : 'åª½';
            const personHealth = healthRecords.filter(r => r.person === person);
            const personMedication = medicationRecords.filter(r => r.person === person);
            const personHospital = hospitalRecords.filter(r => r.person === person);
            
            if (personHealth.length > 0 || personMedication.length > 0 || personHospital.length > 0) {
              let rowHtml = `<div class="person-row"><span class="person-label">${personLabel}:</span>`;
              
              personHealth.forEach(record => {
                if (record.systolic && record.diastolic) {
                  let statusClass = 'bp-normal';
                  const sys = parseInt(record.systolic);
                  const dia = parseInt(record.diastolic);
                  if (sys < 90 || dia < 60) statusClass = 'bp-low';
                  else if (sys >= 140 || dia >= 90) statusClass = 'bp-high';
                  else if (sys >= 130 || dia >= 80) statusClass = 'bp-elevated';
                  rowHtml += `<span class="health-dot ${statusClass}" title="${sys}/${dia}"></span>`;
                }
              });
              
              personMedication.forEach(() => {
                rowHtml += `<span>ğŸ’Š</span>`;
              });
              
              personHospital.forEach(() => {
                rowHtml += `<span class="tag tag-hospital">æ›è™Ÿ</span>`;
              });
              
              rowHtml += '</div>';
              html += rowHtml;
            }
          });
          
          html += '</div>';
        }
        
        if (taiwanHolidays[dateStr]) {
          html += `<span class="tag tag-holiday">${taiwanHolidays[dateStr]}</span>`;
        }
        if (solarTerms[dateStr]) {
          html += `<span class="tag tag-solar">${solarTerms[dateStr]}</span>`;
        }
        
        cell.innerHTML = html;
        cell.addEventListener('click', () => {
          openDayModal(dateStr);
        });
        grid.appendChild(cell);
      }
    }

    function openDayModal(dateStr) {
      selectedDate = dateStr;
      const date = new Date(dateStr);
      const lunar = solarToLunar(date.getFullYear(), date.getMonth() + 1, date.getDate());
      
      document.getElementById('day-modal-title').textContent = `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
      document.getElementById('day-modal-lunar').textContent = `è¾²æ›† ${lunar.monthStr}${lunar.dayStr}`;
      
      renderDayRecordsList();
      document.getElementById('day-modal').classList.remove('hidden');
      document.getElementById('day-modal').classList.add('flex');
    }

    function renderDayRecordsList() {
      const dayRecords = records.filter(r => r.date === selectedDate);
      const listContainer = document.getElementById('day-records-list');
      listContainer.innerHTML = '';

      if (dayRecords.length === 0) {
        listContainer.innerHTML = '<p class="text-gray-500 text-center py-4">æ­¤æ—¥æœŸå°šç„¡è¨˜éŒ„</p>';
        return;
      }

      dayRecords.forEach(record => {
        const item = document.createElement('div');
        item.className = 'record-item';
        
        if (record.type === 'health') {
          const personEmoji = record.person === 'dad' ? 'ğŸ‘¨' : 'ğŸ‘©';
          const personName = record.person === 'dad' ? 'çˆ¸çˆ¸' : 'åª½åª½';
          let summary = `${personEmoji} ${personName} - å¥åº·è¨˜éŒ„`;
          let details = [];
          
          if (record.systolic && record.diastolic) {
            details.push(`è¡€å£“: ${record.systolic}/${record.diastolic} mmHg`);
          }
          if (record.pulse) {
            details.push(`è„ˆæ: ${record.pulse} æ¬¡/åˆ†`);
          }
          
          item.innerHTML = `
            <div class="record-summary">${summary}</div>
            <div class="record-detail">${details.join(' | ') || 'ç„¡å¥åº·æ•¸æ“š'}</div>
          `;
        }
        
        item.addEventListener('click', () => {
          openEditModal(record);
        });
        
        listContainer.appendChild(item);
      });
    }

    function openRecordModal() {
      editingRecord = null;
      const date = new Date(selectedDate);
      const lunar = solarToLunar(date.getFullYear(), date.getMonth() + 1, date.getDate());
      
      document.getElementById('modal-title').textContent = `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
      document.getElementById('modal-lunar').textContent = `è¾²æ›† ${lunar.monthStr}${lunar.dayStr}`;
      
      document.getElementById('step-select-type').classList.remove('hidden');
      document.getElementById('record-form-container').classList.add('hidden');
      
      document.getElementById('record-modal').classList.remove('hidden');
      document.getElementById('record-modal').classList.add('flex');
    }

    function openEditModal(record) {
      editingRecord = record;
      const date = new Date(selectedDate);
      const lunar = solarToLunar(date.getFullYear(), date.getMonth() + 1, date.getDate());
      
      document.getElementById('modal-title').textContent = `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`;
      document.getElementById('modal-lunar').textContent = `è¾²æ›† ${lunar.monthStr}${lunar.dayStr}`;
      
      document.getElementById('day-modal').classList.add('hidden');
      document.getElementById('record-modal').classList.remove('hidden');
      document.getElementById('record-modal').classList.add('flex');
    }

    function setupEventListeners() {
      document.getElementById('prev-month').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar();
      });

      document.getElementById('next-month').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar();
      });

      document.getElementById('today-btn').addEventListener('click', () => {
        currentDate = new Date();
        renderCalendar();
      });

      document.getElementById('close-day-modal').addEventListener('click', () => {
        document.getElementById('day-modal').classList.add('hidden');
      });

      document.getElementById('add-new-record-btn').addEventListener('click', () => {
        document.getElementById('day-modal').classList.add('hidden');
        openRecordModal();
      });

      document.getElementById('close-modal').addEventListener('click', () => {
        document.getElementById('record-modal').classList.add('hidden');
        document.getElementById('day-modal').classList.remove('hidden');
        document.getElementById('day-modal').classList.add('flex');
      });

      document.getElementById('btn-add-health').addEventListener('click', () => {
        document.getElementById('step-select-type').classList.add('hidden');
        document.getElementById('record-form-container').classList.remove('hidden');
        document.getElementById('health-content').classList.remove('hidden');
      });

      document.getElementById('back-to-type-select').addEventListener('click', () => {
        document.getElementById('record-form-container').classList.add('hidden');
        document.getElementById('step-select-type').classList.remove('hidden');
      });

      document.getElementById('chart-btn').addEventListener('click', () => {
        document.getElementById('chart-modal').classList.remove('hidden');
        document.getElementById('chart-modal').classList.add('flex');
      });

      document.getElementById('close-chart').addEventListener('click', () => {
        document.getElementById('chart-modal').classList.add('hidden');
      });
    }

    initApp();
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9caa26fa93148282',t:'MTc3MDU0MzQ4Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;" src="./saved_resource.html"></iframe>
</body></html>